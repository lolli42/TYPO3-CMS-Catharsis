{namespace i=TYPO3\CMS\Install\ViewHelpers}

<f:layout name="ToolAuthenticated" />

<f:section name="Content">
	<div>
		<h1>Maintenance</h1>
	</div>

	<f:alias map="{actions: {
		0: {partial: 'Action/Tool/Maintenance/ClearAllCache',
			require: 'TYPO3/CMS/Install/Cache',
			baseClass: 't3js-clearAllCache',
			title: 'Clear all cache',
			category: 'Caching',
			description: 'Clears all cache. Including Frontend, backend and language caches.'
		},
		1: {partial: 'Action/Tool/Maintenance/ClearTypo3tempFiles',
			require: 'TYPO3/CMS/Install/ClearTypo3tempFiles',
			baseClass: 't3js-clearTypo3temp',
			title: 'Clean typo3temp/assets/',
			category: 'Caching',
			description: 'Clears temporary files in typo3temp/assets/ folder, including processed and cached images.'
		},
		2: {partial: 'Action/Tool/Maintenance/DumpAutoload',
			require: 'TYPO3/CMS/Install/DumpAutoload',
			baseClass: 't3js-dumpAutoload',
			title: 'Dump Autoload Information',
			category: 'Caching',
			description: 'This (re-)dumps autoload information for all active third party extensions.'
		},
		3: {partial: 'Action/Tool/Maintenance/DatabaseAnalyzer',
			require: 'TYPO3/CMS/Install/DatabaseAnalyzer',
			baseClass: 't3js-databaseAnalyzer',
			title: 'Database analyzer',
			category: 'Database',
			description: 'Verify and update database status.'
		},
		4: {partial: 'Action/Tool/Maintenance/ClearTables',
			require: 'TYPO3/CMS/Install/ClearTables',
			baseClass: 't3js-clearTables',
			title: 'Clear Tables',
			category: 'Database',
			description: 'Clears semi-temporary data from database tables.'
		},
		5: {partial: 'Action/Tool/Maintenance/CreateAdmin',
			require: 'TYPO3/CMS/Install/CreateAdmin',
			baseClass: 't3js-createAdmin',
			title: 'Create Admin',
			category: 'Backend Users',
			description: 'Creates a backend administrator user.'
		},
		6: {partial: 'Action/Tool/Maintenance/ResetBackendUserUc',
			require: 'TYPO3/CMS/Install/ResetBackendUserUc',
			baseClass: 't3js-resetBackendUserUc',
			title: 'Reset User Preferences',
			category: 'Backend Users',
			description: 'Reset backend user preferences to defaults.'
		}
	}}">
		<div class="gridder">
			<f:for each="{actions}" as="card" iteration="iterator">
				<div
					class="gridder-list {card.baseClass}-open {f:if(condition: '{card.require}', then: 't3js-require')}"
					{f:if(condition: '{card.require}', then: 'data-require="{card.require}"')}
				>
					<div class="gridder-item">
						<h3>
							{card.title} <span class="label label-warning {card.baseClass}-badge" style="display:none"></span>
							<br>
							<small class="text-muted">{card.category}</small>
							<br>
						</h3>
						<p>{card.description}</p>
					</div>
				</div>
				<div class="gridder-content {f:if(condition: '{card.baseClass}', then: '{card.baseClass}')}">
					<div class="gridder-padding">
						<div class="gridder-title clearfix">
							<h3 class="pull-left">{card.title}</h3>
						</div>
						<f:render partial="{card.partial}" arguments="{_all}" />
					</div>
				</div>
			</f:for>
		</div>
	</f:alias>
</f:section>
